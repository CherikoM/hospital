import{h as q,aw as L,ak as R,r as _,o as $,aI as j,ap as g,t as p,F as z,a3 as C,v as f,x as e,a5 as E,y as t,D as o,am as A,as as F,ai as H,aj as J,A as I,aJ as S,M as c,O as u,aK as K,ah as T}from"./index-4bab59ba.js";import{E as G,a as P}from"./el-descriptions-item-78d7d2ef.js";import{E as Q}from"./el-card-562c42df.js";import{d as W}from"./index-5f6caa8a.js";import{r as X}from"./index-49c9d859.js";const n=v=>(H("data-v-90d7783b"),v=v(),J(),v),Y={class:"container"},Z=n(()=>t("div",{class:"tip"},"确定挂号信息",-1)),ee={class:"card-header"},te=n(()=>t("span",null,"请选择就诊人",-1)),se=n(()=>t("div",{class:"card-header"},[t("span",null,"挂号信息")],-1)),ae=n(()=>t("div",{class:"cell-item"}," 就诊日期： ",-1)),le=n(()=>t("div",{class:"cell-item"}," 就诊医院： ",-1)),oe=n(()=>t("div",{class:"cell-item"}," 就诊科室： ",-1)),ne=n(()=>t("div",{class:"cell-item"}," 医生姓名： ",-1)),ce=n(()=>t("div",{class:"cell-item"}," 医生职称： ",-1)),ie=n(()=>t("div",{class:"cell-item"}," 医生专长： ",-1)),de=n(()=>t("div",{class:"cell-item"}," 挂号费用： ",-1)),re={style:{color:"red"}},ue={class:"confirm"},_e=q({name:"Confirm"}),pe=q({..._e,setup(v){const B=L(),U=R(),h=_(!0),b=_(!0);$(()=>{k(),M()});const y=_([]),m=_(-1),l=_({}),d=_(!0),k=async()=>{h.value=!0;const s=await j();s.code===200?y.value=s.data:g.error(s.message),h.value=!1},M=async()=>{b.value=!0;const s=await W(B.query.docId);s.code===200?l.value=s.data:g.error(s.message),b.value=!1},N=async()=>{const s=await X(l.value.hoscode,l.value.id,y.value[m.value].id);s.code===200?U.push({path:"/user/order",query:{id:s.data}}):g.error(s.message)};return(s,i)=>{const x=A,O=K,D=Q,r=G,V=P,w=F;return p(),z("div",Y,[Z,C((p(),f(D,{class:"client-card"},{header:e(()=>[t("div",ee,[te,d.value?(p(),f(x,{key:0,type:"primary",icon:I(S),text:"",onClick:i[0]||(i[0]=a=>d.value=!1)},{default:e(()=>[c("添加就诊人")]),_:1},8,["icon"])):(p(),f(x,{key:1,type:"primary",icon:I(S),text:"",onClick:i[1]||(i[1]=a=>d.value=!0)},{default:e(()=>[c("取消操作")]),_:1},8,["icon"]))])]),default:e(()=>[o(O,{clients:y.value,scene:d.value,"onUpdate:scene":i[2]||(i[2]=a=>d.value=a),index:m.value,"onUpdate:index":i[3]||(i[3]=a=>m.value=a),onSubmit:k},null,8,["clients","scene","index"])]),_:1})),[[w,h.value]]),C((p(),f(D,{class:"doctor-card"},{header:e(()=>[se]),default:e(()=>[o(V,{class:"margin-top",column:2,border:""},{default:e(()=>[o(r,null,{label:e(()=>[ae]),default:e(()=>[c(" "+u(l.value.workDate),1)]),_:1}),o(r,null,{label:e(()=>[le]),default:e(()=>{var a;return[c(" "+u((a=l.value.param)==null?void 0:a.hosname),1)]}),_:1}),o(r,null,{label:e(()=>[oe]),default:e(()=>{var a;return[c(" "+u((a=l.value.param)==null?void 0:a.depname),1)]}),_:1}),o(r,null,{label:e(()=>[ne]),default:e(()=>[c(" "+u(l.value.docname),1)]),_:1}),o(r,null,{label:e(()=>[ce]),default:e(()=>[c(" "+u(l.value.title),1)]),_:1}),o(r,null,{label:e(()=>[ie]),default:e(()=>[c(" "+u(l.value.skill),1)]),_:1}),o(r,null,{label:e(()=>[de]),default:e(()=>[t("span",re,u(l.value.amount),1)]),_:1})]),_:1})]),_:1})),[[E,d.value],[w,b.value]]),C(t("div",ue,[o(x,{class:"btn",type:"primary",size:"default",disabled:m.value==-1,onClick:N},{default:e(()=>[c("确认挂号")]),_:1},8,["disabled"])],512),[[E,d.value]])])}}});const ye=T(pe,[["__scopeId","data-v-90d7783b"]]);export{ye as default};
